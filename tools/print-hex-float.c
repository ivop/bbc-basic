#include <stdio.h>
#include <stdint.h>
#include <math.h>

static void print_float(uint8_t *hex) {
    int mantissa = (hex[4] + (hex[3]<<8) + (hex[2]<<16) + (hex[1]<<24))
                                                            & 0x7fffffff;
    int sign = hex[1] >> 7;
    int exponent = hex[0];

    double value = (1.0 - sign*2) * (1.0 + ((double)mantissa / 0x80000000)) *
                                                        pow(2,exponent-129);

    printf("%.16f\n", value);
}

#if 0
// FLOGTC
static uint8_t table[][5] = {
    { 0x7a, 0x12, 0x38, 0xa5, 0x0B },
    { 0x88, 0x79, 0x0E, 0x9f, 0xf3 },
    { 0x7c, 0x2a, 0xac, 0x3f, 0xb5 },
    { 0x86, 0x34, 0x01, 0xa2, 0x7a },
    { 0x7f, 0x63, 0x8e, 0x37, 0xec },
    { 0x82, 0x3f, 0xff, 0xff, 0xc1 },
    { 0x7f ,0xff, 0xff, 0xff, 0xff }
};
#endif

#if 0
// FATANC
static uint8_t table[][5] = {
    { 0x85, 0xa3, 0x59, 0xe8, 0x67 },
    { 0x80, 0x1c, 0x9d, 0x07, 0x36 },
    { 0x80, 0x57, 0xbb, 0x78, 0xdf },
    { 0x80, 0xca, 0x9a, 0x0e, 0x83 },
    { 0x84, 0x8c, 0xbb, 0xca, 0x6e },
    { 0x81, 0x95, 0x96, 0x06, 0xde },
    { 0x81, 0x0a, 0xc7, 0x6c, 0x52 },
    { 0x7f, 0x7d, 0xad, 0x90, 0xa1 },
    { 0x82, 0xfb, 0x62, 0x57, 0x2f },
    { 0x80, 0x6d, 0x63, 0x38, 0x2c }
};
#endif

#if 0
// FSINC
static uint8_t table[][5] = {
    { 0x84, 0x8a, 0xea, 0x0c, 0x1b },
    { 0x84, 0x1a, 0xbe, 0xbb, 0x2b },
    { 0x84, 0x37, 0x45, 0x55, 0xab },
    { 0x82, 0xd5, 0x55, 0x57, 0x7c },
    { 0x83, 0xc0, 0x00, 0x00, 0x05 },
    { 0x81, 0x00, 0x00, 0x00, 0x00 }
};
#endif

#if 0
// HPIHI, HPILO, HALFPI, FPIs18, F180sP, RPLN10, FNUME
static uint8_t table[][5] = {
    { 0x81, 0xc9, 0x10, 0x00, 0x00 },
    { 0x6f, 0x15, 0x77, 0x7a, 0x61 },
    { 0x81, 0x49, 0x0f, 0xda, 0xa2 },
    { 0x7b, 0x0e, 0xfa, 0x35, 0x12 },
    { 0x86, 0x65, 0x2e, 0xe0, 0xd3 },
    { 0x7f, 0x5e, 0x5b, 0xd8, 0xaa },
    { 0x82, 0x2d, 0xf8, 0x54, 0x58 }
};
#endif

#if 1
// FEXPCO
static uint8_t table[][5] = {
    { 0x83, 0xe0, 0x20, 0x86, 0x5b },
    { 0x82, 0x80, 0x53, 0x93, 0xb8 },
    { 0x83, 0x20, 0x00, 0x06, 0xa1 },
    { 0x82, 0x00, 0x00, 0x21, 0x63 },
    { 0x82, 0xc0, 0x00, 0x00, 0x02 },
    { 0x82, 0x80, 0x00, 0x00, 0x0c },
    { 0x81, 0x00, 0x00, 0x00, 0x00 },
    { 0x81, 0x00, 0x00, 0x00, 0x00 }
};
#endif

int main(int argc, char **argv) {
    for (int i=0; i<sizeof(table)/5; i++)
        print_float(table[i]);
}
